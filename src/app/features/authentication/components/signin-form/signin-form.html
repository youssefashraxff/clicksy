<form [formGroup]="signinForm" (ngSubmit)="onSubmit()">
  <div class="px-12 pb-10">
    <div class="w-full mb-2">
      <div class="flex items-start flex-col">
        <label for="email">Email Address</label>
        <input
          id="email"
          formControlName="email"
          type="text"
          placeholder="Email Address"
          class="w-full border rounded px-3 py-2 text-gray-700 focus:outline-none"
        />
      </div>
    </div>
    <div class="w-full mb-2">
      <div class="flex items-start flex-col">
        <label for="password"> Password </label>
        <div class="relative w-full">
          <input
            id="password"
            formControlName="password"
            [type]="isToggledPassword ? 'text' : 'password'"
            placeholder="Enter your password"
            class="w-full border rounded px-3 py-2 text-gray-700 focus:outline-none"
          />
          <i
            (click)="togglePassword()"
            class="fa fa-solid absolute right-0 bottom-0 top-3 me-3 cursor-pointer flex justify-center items-center"
            [class]="isToggledPassword ? 'fa-eye' : 'fa-eye-slash'"
          ></i>
        </div>
      </div>
    </div>
    <!-- Login Button -->
    <button
      [disabled]="isLoading"
      class="disabled:bg-gray-500 disabled:cursor-auto cursor-pointer w-full py-2 mt-8 rounded-full bg-secondary text-gray-100 focus:outline-none"
    >
      Login @if(isLoading){
      <i class="fa-solid fa-spinner fa-spin"></i>
      }
    </button>
    <!-- Error Message -->
    @let email = signinForm.get("email"); @if(email?.errors && email?.touched){
    <app-error-message class="w-full"
      >@if(email?.getError("required")){
      <li>Email is required.</li>
      } @if(email?.getError("email")){
      <li>Invalid email</li>
      }
    </app-error-message>
    } @if(errorMessage){
    <div
      class="mt-5 bg-red-100 border-l-4 border-red-500 text-red-700 p-4"
      role="alert"
    >
      <p>{{ errorMessage }}</p>
    </div>
    } @if(successMessage){
    <div
      class="mt-5 bg-green-100 border-l-4 border-green-500 text-green-700 p-4"
      role="alert"
    >
      <p>Register {{ successMessage }}</p>
    </div>
    }
  </div>
</form>
