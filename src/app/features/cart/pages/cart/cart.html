<section class="mt-35 px-5 md:px-20">
  <header>
    <p class="text-3xl font-extrabold text-main mb-5">Shopping Cart</p>
  </header>

  <div class="md:flex justify-center items-center gap-10 relative">
    <!-- Cart -->
    <div class="md:w-2/3 w-full">
      @for(item of cartItems.products ;track item._id){
      <!-- Cart Item -->
      <div
        class="grid grid-cols-12 gap-5 border-1 border-gray-300 rounded-4xl overflow-hidden mb-5"
      >
        <!-- Item Image -->
        <div class="md:col-span-3 col-span-4 md:h-[200px] h-[150px]">
          <img
            class="object-cover h-full object-center"
            [src]="item.product.imageCover"
            alt=""
          />
        </div>
        <div
          class="md:col-span-9 col-span-8 flex flex-col justify-center items-center pe-3"
        >
          <div class="grid grid-cols-10 md:gap-6 gap-3">
            <!-- Title and catergory -->
            <div
              class="md:col-span-5 col-span-10 flex flex-col justify-center items-start"
            >
              <p class="text-xxs md:text-lg text-gray-400">
                {{ item.product.category.name }}
              </p>
              <p
                class="text-xs md:text-lg font-semibold text-gray-900 line-clamp-2"
              >
                {{ item.product.title }}
              </p>
            </div>
            <!-- Quantity -->
            <div
              class="md:col-span-2 col-span-10 w-1/2 md:w-full flex flex-col justify-center items-center"
            >
              <div
                class="flex justify-between items-center gap-1 cart-btn px-2 py-1 w-full rounded-full text-xs"
              >
                <i class="fas fa-minus cursor-pointer"></i>
                <p>{{ item.count }}</p>
                <i class="fas fa-plus cursor-pointer"></i>
              </div>
            </div>
            <!-- Price -->
            <div
              class="md:col-span-3 col-span-10 flex justify-between items-center"
            >
              <p class="text-xs md:text-xl font-bold text-main">
                {{ item.price | currency : " EGP " }}
              </p>
            </div>
          </div>
        </div>
      </div>
      }
    </div>
    <!-- Payment -->
    <div
      class="w-full md:w-1/3 p-10 md:sticky md:top-25 border-1 border-gray-300 rounded-4xl overflow-hidden md:self-start"
    >
      <p class="text-xl font-semibold text-gray-900 mb-5">Order Summary</p>
      <div class="gap-3">
        <div class="flex justify-between items-center w-full mb-5">
          <p class="text-lg font-normal text-gray-600">Subtotal</p>
          <p class="text-lg font-semibold text-gray-900">
            {{ cartItems.totalCartPrice | currency : " EGP " }}
          </p>
        </div>
        <div class="flex justify-between items-center w-full">
          <p class="text-lg font-normal text-gray-600">Discount</p>
          <p class="text-lg font-semibold text-gray-900">
            {{ cartItems.totalCartPrice | currency : " EGP " }}
          </p>
        </div>
        <hr class="my-5" />
        <div class="flex justify-between items-center w-full">
          <p class="text-lg font-semibold text-gray-900">Total</p>
          <p class="text-lg font-semibold text-gray-900">
            {{ cartItems.totalCartPrice | currency : " EGP " }}
          </p>
        </div>
      </div>
      <button
        class="w-full bg-main text-white mt-5 border-0 py-2 px-6 rounded-2xl text-lg"
      >
        Proceed to checkout
      </button>
    </div>
  </div>
</section>
